"use strict";(self.webpackChunksmaply_knowledge=self.webpackChunksmaply_knowledge||[]).push([[4666],{2163:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>c,default:()=>g,frontMatter:()=>s,metadata:()=>a,toc:()=>r});var t=i(4848),o=i(8453);const s={title:"Creating Google service account"},c="Setting Up a Service Account for Google Analytics GA4 API \ud83d\udd27",a={id:"documentation/metrics/integrations/google-analytics/Administration/service-account",title:"Creating Google service account",description:"A service account acts as a virtual user for your application, allowing secure, programmatic access to Google Analytics data without using personal credentials.",source:"@site/docs/documentation/metrics/integrations/google-analytics/Administration/30-service-account.md",sourceDirName:"documentation/metrics/integrations/google-analytics/Administration",slug:"/documentation/metrics/integrations/google-analytics/Administration/service-account",permalink:"/smaply-knowledge/docs/documentation/metrics/integrations/google-analytics/Administration/service-account",draft:!1,unlisted:!1,editUrl:"https://github.com/geoffbullen/smaply-knowledge/tree/main/docs/documentation/metrics/integrations/google-analytics/Administration/30-service-account.md",tags:[],version:"current",sidebarPosition:30,frontMatter:{title:"Creating Google service account"},sidebar:"docsSidebar",previous:{title:"Configuring Google Analytics Integration",permalink:"/smaply-knowledge/docs/documentation/metrics/integrations/google-analytics/Administration/google-analytics-config"},next:{title:"Service account troubleshooting",permalink:"/smaply-knowledge/docs/documentation/metrics/integrations/google-analytics/Administration/service-account-troubleshooting"}},l={},r=[{value:"Steps to Create and Configure Service Account",id:"steps-to-create-and-configure-service-account",level:2},{value:"1. Create a Google Cloud Project (if not already done)",id:"1-create-a-google-cloud-project-if-not-already-done",level:3},{value:"2. Enable the Google Analytics Data API \ud83d\udcca",id:"2-enable-the-google-analytics-data-api-",level:3},{value:"3. Create a Service Account \ud83d\udd11",id:"3-create-a-service-account-",level:3},{value:"4. Grant Permissions",id:"4-grant-permissions",level:3},{value:"5. Create and Download the Key File \ud83d\udcc1",id:"5-create-and-download-the-key-file-",level:3},{value:"6. Grant Access in Google Analytics \ud83d\udcc8",id:"6-grant-access-in-google-analytics-",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Next Steps",id:"next-steps",level:2}];function d(e){const n={a:"a",admonition:"admonition",h1:"h1",h2:"h2",h3:"h3",img:"img",li:"li",mdxAdmonitionTitle:"mdxAdmonitionTitle",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{id:"setting-up-a-service-account-for-google-analytics-ga4-api-",children:"Setting Up a Service Account for Google Analytics GA4 API \ud83d\udd27"}),"\n",(0,t.jsx)(n.p,{children:"A service account acts as a virtual user for your application, allowing secure, programmatic access to Google Analytics data without using personal credentials."}),"\n",(0,t.jsx)(n.h2,{id:"steps-to-create-and-configure-service-account",children:"Steps to Create and Configure Service Account"}),"\n",(0,t.jsx)(n.h3,{id:"1-create-a-google-cloud-project-if-not-already-done",children:"1. Create a Google Cloud Project (if not already done)"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Go to the Google Cloud Console:"}),"\n",(0,t.jsx)(n.li,{children:'Click on "Select a project" > "New Project"'}),"\n",(0,t.jsx)(n.li,{children:'Enter a project name and click "Create"'}),"\n",(0,t.jsx)(n.li,{children:'Give it a sensible name like "Smaply-GA"'}),"\n"]}),"\n",(0,t.jsx)(n.admonition,{type:"tip",children:(0,t.jsx)(n.p,{children:"Creating a dedicated Google Cloud Project for Smaply allows you to keep all related API access and settings in one place. This makes it easier to manage permissions and track usage specific to your Smaply integration."})}),"\n",(0,t.jsx)(n.h3,{id:"2-enable-the-google-analytics-data-api-",children:"2. Enable the Google Analytics Data API \ud83d\udcca"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:'In your Google Cloud project, go to "APIs & Services" > "Library"'}),"\n",(0,t.jsx)(n.li,{children:'Search for "Google Analytics Data API"'}),"\n",(0,t.jsx)(n.li,{children:'Click on the API and then click "Enable"'}),"\n"]}),"\n",(0,t.jsxs)(n.admonition,{type:"warning",children:[(0,t.jsx)(n.mdxAdmonitionTitle,{children:(0,t.jsx)(n.strong,{children:"Important"})}),(0,t.jsx)(n.p,{children:"Enabling the API is crucial for accessing GA4 data. Make sure you've completed this step before proceeding."})]}),"\n",(0,t.jsx)(n.h3,{id:"3-create-a-service-account-",children:"3. Create a Service Account \ud83d\udd11"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["In the ",(0,t.jsx)(n.a,{href:"https://console.cloud.google.com/",children:"Google Cloud Console"}),', navigate to "IAM & Admin" > "Service Accounts"']}),"\n",(0,t.jsx)(n.li,{children:'Click "Create Service Account"'}),"\n",(0,t.jsx)(n.li,{children:"Enter a name and description for your service account"}),"\n",(0,t.jsx)(n.li,{children:'Click "Create and Continue"'}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Google Cloud Service Account",src:i(4156).A+"",width:"2170",height:"1818"})}),"\n",(0,t.jsx)(n.h3,{id:"4-grant-permissions",children:"4. Grant Permissions"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:['In the "Service account permissions" section, add the following role:',"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:'"Viewer" (for read-only access) or "Editor" (for read-write access)'}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.li,{children:'Click "Continue" and then "Done"'}),"\n"]}),"\n",(0,t.jsxs)(n.admonition,{type:"tip",children:[(0,t.jsxs)(n.mdxAdmonitionTitle,{children:["\ud83d\udd12 ",(0,t.jsx)(n.strong,{children:"Security Tip:"})]}),(0,t.jsx)(n.p,{children:"Always follow the principle of least privilege. Grant only the permissions necessary for your intended use case."})]}),"\n",(0,t.jsx)(n.h3,{id:"5-create-and-download-the-key-file-",children:"5. Create and Download the Key File \ud83d\udcc1"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Find your newly created service account in the list"}),"\n",(0,t.jsx)(n.li,{children:"Click on the service account name"}),"\n",(0,t.jsx)(n.li,{children:'Go to the "Keys" tab'}),"\n",(0,t.jsx)(n.li,{children:'Click "Add Key" > "Create new key"'}),"\n",(0,t.jsx)(n.li,{children:'Choose "JSON" as the key type'}),"\n",(0,t.jsx)(n.li,{children:'Click "Create" to download the key file'}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"6-grant-access-in-google-analytics-",children:"6. Grant Access in Google Analytics \ud83d\udcc8"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://analytics.google.com/analytics/web/",children:"Log in to your Google Analytics account"})}),"\n",(0,t.jsx)(n.li,{children:"Navigate to Admin > Property > Property Access Management"}),"\n",(0,t.jsx)(n.li,{children:'Click the "+" button to add a new user'}),"\n",(0,t.jsx)(n.li,{children:"Enter the service account email address (found in the key file or service account details)"}),"\n",(0,t.jsx)(n.li,{children:"Assign the appropriate role (e.g., Viewer or Editor)"}),"\n",(0,t.jsx)(n.li,{children:'Click "Add" to save the changes'}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Google Analytics Property Access Management",src:i(4559).A+"",width:"1422",height:"730"})}),"\n",(0,t.jsxs)(n.admonition,{type:"tip",children:[(0,t.jsx)(n.mdxAdmonitionTitle,{}),(0,t.jsx)(n.p,{children:"If you need access to multiple GA4 properties, you can repeat this step for each property or use Google Analytics account-level access for broader permissions."})]}),"\n",(0,t.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,t.jsx)(n.p,{children:"If you encounter issues during the OAuth process or property verification:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"No properties available"}),": Ensure your Google account has access to at least one Google Analytics property"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Insufficient permissions"}),': Check your access level in Google Analytics. You need at least "Read & Analyze" permissions for the properties you want to integrate']}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Finish setting up the integration in Smaply!!"}),"\n"]})]})}function g(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},4559:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/property-access-management-d2e585caa500cbdfc43ed1ebc862c592.png"},4156:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/service_account_key-69274f54100acb31581858819e4f0710.png"},8453:(e,n,i)=>{i.d(n,{R:()=>c,x:()=>a});var t=i(6540);const o={},s=t.createContext(o);function c(e){const n=t.useContext(s);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:c(e.components),t.createElement(s.Provider,{value:n},e.children)}}}]);